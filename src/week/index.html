<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>上海时装周</title>
<meta name="description" content="上海时装周">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
<script type="text/javascript" src="jquery-1.12.1.min.js"></script>
<link type="text/css" rel="stylesheet" href="swiper.min.css">
<link type="text/css" rel="stylesheet" href="css.css">
<link type="text/css" rel="stylesheet" href="animate.css">
<style type="text/css">
    #musicControl { position:fixed;right:2%;top:2%;display:inline-block;z-index:99999999; }
    #musicControl a { display:inline-block;width:29px;height:29px; background:url(images/mcbg.png) no-repeat 0 0; background-size:100%;}
    #musicControl a audio{width:100%;}
    #musicControl a.stop { background-position:left bottom; }
	
    #musicControl a.on { background-position:0px 0px;-webkit-animation: zhuan 1.2s linear infinite;}
    #music_play_filter{width:100%;height:100%;overflow:hidden;position:fixed;top:0;left:0;z-index:99999998;}

@-webkit-keyframes zhuan {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes zhuan {
  0% {
    -webkit-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    transform: rotate(0deg);
  }

  100% {
    -webkit-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

.zhuan {
  -webkit-transform-origin: top center;
  -ms-transform-origin: top center;
  transform-origin: top center;
  -webkit-animation-name: zhuan;
  animation-name: zhuan;
}

/*播放音乐结束*/

</style>
<script type="text/javascript">
function play_music(){
        if ($('#mc_play').hasClass('on')){
            $('#mc_play audio').get(0).pause();
            $('#mc_play').attr('class','stop');
        }else{
            $('#mc_play audio').get(0).play();
            $('#mc_play').attr('class','on');
        }
        $('#music_play_filter').hide();
        //event.stopPropagation(); //阻止冒泡 
    }
    function just_play(id){
        $('#mc_play audio').get(0).play();
        $('#mc_play').attr('class','on');
        if (typeof(id)!='undefined'){
            $('#music_play_filter').hide();
        }
       // event.stopPropagation(); //阻止冒泡 
    } 
    function is_weixn(){
        return false;
        var ua = navigator.userAgent.toLowerCase();
        if(ua.match(/MicroMessenger/i)=="micromessenger") {
            return true;
        } else {
            return false;
        }
    }
    window.onload=function(){
        if (!is_weixn()){
            just_play();
        }
    } 
	
	
    $(function () {
        $('audio,video').on('play', function() {
            $('audio,video').not(this).each(function(i, e) {
                e.pause();
            });
        });
        $('video').on('pause', function() {
            $('audio').each(function(i, e) {
                e.play();
            });
        });
        $('#musicfx').on('play', function () {
            $('#mc_play').attr('class','on');
        }).on('pause', function () {
            $('#mc_play').attr('class','stop');
        });
    });	
</script>
</head>

<body>
<!--嵌入音乐开始 -->
<!--<span id="musicControl">
    <a id="mc_play" class="on" onclick="play_music()">
        <audio id="musicfx" loop autoplay="autoplay"><source src="images/music.mp3" type="audio/mpeg"></audio>
    </a>
</span>
--><!--嵌入音乐结束 -->


<div class="swiper-container swiper-container-h">
    <div class="jiantou"></div>
    <div class="swiper-wrapper">
        <div class="swiper-slide">
            <div class="za_bg00">
                <div class="bk_index_img01 bk_index_img01_ani"><img src="images/bk_index_tit.png"></div>
                <div class="bk_index_t01 bk_index_t01_ani"><img src="images/bk_index_t01.png"></div>
                <div class="bk_index_t_z01 bk_index_t_z01_ani"><img src="images/bk_index_t_z01.png"></div>
                <div class="bk_index_t_z02 bk_index_t_z02_ani"><img src="images/bk_index_t_z02.png"></div>
            </div>
        </div>
        <div class="swiper-slide">
            <div class="za_bg01">
                <div class="bk_pa_tit01"><img src="images/p2_tit01.png"></div>
                <div class="bk_pa_tit02"><img src="images/p2_tit02.png"></div>
                <div class="ques_img">
                    <img src="images/video_bg.png">
                    <div class="video_body">
                        <div class="video_box">
                            <video controls width="100%" height="auto" poster="images/video_img.jpg">
                                <source src="http://v.rayli.com.cn/2018-04-03/20180403121609.mp4" type="video/mp4">
                                <source src="http://www.ckplayer.com/webm/0.webm" type="video/webm">
                                <source src="http://www.ckplayer.com/webm/0.ogv" type="video/ogg">
                            </video>
                        </div>
                    </div>
                </div>
				<div class="btn_video"><a href="http://fashion.rayli.com.cn/exclusive/2018-04-02/619353.shtml" target="_blank"><img src="images/btn_video.png"></a></div>
                <div class="tips01 tips"><span><img src="images/tips01.png"></span><a href="http://luxury.rayli.com.cn/people/styleawards/2018-03-27/618637.shtml" target="_blank"><img src="images/tips01.png"></a></div>
                <div class="tips02 tips"><span><img src="images/tips02.png"></span><a href="http://luxury.rayli.com.cn/people/styleawards/2018-03-27/618637_3.shtml#article_r" target="_blank"><img src="images/tips02.png"></a></div>
                <div class="tips03 tips"><span><img src="images/tips03.png"></span><a href="http://luxury.rayli.com.cn/people/styleawards/2018-03-27/618637_6.shtml#article_r" target="_blank"><img src="images/tips03.png"></a></div>
            </div>
        </div>
        <div class="swiper-slide">
            <div class="za_bg01">
                <div class="bk_p3_tit01"><img src="images/p3_tit01.png"></div>
                <div class="bk_p3_tit02"><img src="images/p3_tit02.png"></div>
                <div class="bk_p3_body">
                    <div class="swiper-container swiper-container-v">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                            	<div class="girl_box"><a href="http://luxury.rayli.com.cn/highfashion/lookbook/2018-04-02/pic619273_32.shtml" target="_blank"><img src="images/p2_img06.jpg"></a></div>
                            </div>
                            <div class="swiper-slide">
                            	<div class="girl_box"><a href="http://luxury.rayli.com.cn/highfashion/lookbook/2018-04-02/pic619273_2.shtml" target="_blank"><img src="images/p2_img01.jpg"></a></div>
                            </div>
                            <div class="swiper-slide">
                            	<div class="girl_box"><a href="http://luxury.rayli.com.cn/highfashion/lookbook/2018-04-02/pic619273_8.shtml" target="_blank"><img src="images/p2_img02.jpg"></a></div>
                            </div>
                            <div class="swiper-slide">
                            	<div class="girl_box"><a href="http://luxury.rayli.com.cn/highfashion/lookbook/2018-04-02/pic619273_14.shtml" target="_blank"><img src="images/p2_img03.jpg"></a></div>
                            </div>
                            <div class="swiper-slide">
                            	<div class="girl_box"><a href="http://luxury.rayli.com.cn/highfashion/lookbook/2018-04-02/pic619273_20.shtml" target="_blank"><img src="images/p2_img04.jpg"></a></div>
                            </div>
                            <div class="swiper-slide">
                            	<div class="girl_box"><a href="http://luxury.rayli.com.cn/highfashion/lookbook/2018-04-02/pic619273_26.shtml" target="_blank"><img src="images/p2_img05.jpg"></a></div>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-pagination"></div>
                </div>
            </div>
        </div>
        <div class="swiper-slide">
            <div class="za_bg01">
                <div class="sc_tit01"><img src="images/sc_tit01.png"></div>
            	<div class="sc_body">
                    <div class="swiper-container swiper-container-s">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                            	<a href="http://celeb.rayli.com.cn/dressed/icon/2018-03-28/618842.shtml" target="_blank" class="sc_body01">
                                    <div class="sc_box01 sc"><img src="images/sc_img01.png"></div>
                                    <div class="sc_box02 sc"><img src="images/p3_img01.png"></div>
                                    <div class="sc_box03 sc"><img src="images/p3_txt01.png"></div>
                                </a>
                            </div>
                            <div class="swiper-slide">
                            	<a href="http://celeb.rayli.com.cn/dressed/icon/2018-03-28/618842_4.shtml#article_r" target="_blank" class="sc_body01">
                                    <div class="sc_box04 sc"><img src="images/sc_img01.png"></div>
                                    <div class="sc_box05 sc"><img src="images/p3_img02.png"></div>
                                    <div class="sc_box06 sc"><img src="images/p3_txt02.png"></div>
                                </a>
                            </div>
                            <div class="swiper-slide">
                            	<a href="http://celeb.rayli.com.cn/dressed/icon/2018-03-28/618842_5.shtml#article_r" target="_blank" class="sc_body01">
                                    <div class="sc_box07 sc"><img src="images/sc_img01.png"></div>
                                    <div class="sc_box08 sc"><img src="images/p3_img03.png"></div>
                                    <div class="sc_box09 sc"><img src="images/p3_txt03.png"></div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="more_tips">    
                   <img class="tip_icon" src="images/hand.png" />    
                   <img class="tip_txt" src="images/more.png" />
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Initialize Swiper -->
<link href="swiper.min.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="swiper.min.js"></script>

<script type="text/javascript">
var swiperH = new Swiper('.swiper-container-h', {
      slidesPerView: 1,
      spaceBetween: 30,
      loop: true,
	  autoplay: {
        delay: 3000,
        disableOnInteraction: false,
      },
      pagination: {
        el: '.swiper-pagination-h',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next-h',
        prevEl: '.swiper-button-prev-h',
      },
    });

var swiperV = new Swiper('.swiper-container-v', {
	slidesPerView: 1,
	spaceBetween: 30,
	loop: true,
	autoplay: {
		delay: 3000,
		disableOnInteraction: false,
    },
	pagination: {
	el: '.swiper-pagination-v',
	clickable: true,
	},
	navigation: {
	nextEl: '.swiper-button-next-v',
	prevEl: '.swiper-button-prev-v',
	},
});



var swiperH = new Swiper('.swiper-container-h', {
	
    pagination: '.swiper-pagination-h',
    direction: 'vertical',
    slidesPerView: 1,
    paginationClickable: true,
    spaceBetween: 0,
    mousewheelControl: true,
    onlyExternal: false, //禁止

    onSlideChangeStart: function() {
        var activeIndex = swiperH.activeIndex;
        var previousIndex = swiperH.previousIndex;
        if (activeIndex != previousIndex) {

            switch (activeIndex) {
                case 0:
					$(".bk_index_img01").addClass("bk_index_img01_ani");
					$(".bk_index_t01").addClass("bk_index_t01_ani");
					$(".bk_index_t_z01").addClass("bk_index_t_z01_ani");
					$(".bk_index_t_z02").addClass("bk_index_t_z02_ani");
                    break;
					
                case 1:
					$(".bk_pa_tit01").addClass("bk_pa_tit01_ani");
					$(".bk_pa_tit02").addClass("bk_pa_tit02_ani");
					$(".bk_pa_tit03").addClass("bk_pa_tit03_ani");
					$(".ques_img").addClass("ques_img_ani");
					$(".tips01").addClass("tips01_ani");
					$(".tips02").addClass("tips02_ani");
					$(".tips03").addClass("tips03_ani");
					$(".btn_video").addClass("btn_video_ani");
                    break;
					
                case 2:
					$(".bk_p3_tit01").addClass("bk_p3_tit01_ani");
					$(".bk_p3_tit02").addClass("bk_p3_tit02_ani");
					$(".bk_p3_body").addClass("bk_p3_body_ani");
					swiperV.slideTo(1);
                    break;
					
                case 3:
					$(".sc_tit01").addClass("sc_tit01_ani");
					$(".more_tips").show();
					setTimeout(function(){	
						$(".more_tips").fadeOut();
					},1500)
					$(".jiantou").addClass('display');
					swiperS.slideTo(1);
                    break;
			}
			
			
			$(".swiper-wrapper .swiper-slide").eq(previousIndex).find("video").each(function(index, element) {
                    element.pause();
            });

            switch (previousIndex) {
                case 0:
					$(".bk_index_img01").removeClass("bk_index_img01_ani");
					$(".bk_index_t01").removeClass("bk_index_t01_ani");
					$(".bk_index_t_z01").removeClass("bk_index_t_z01_ani");
					$(".bk_index_t_z02").removeClass("bk_index_t_z02_ani");
                    break;
					
                case 1:
					$(".bk_pa_tit01").removeClass("bk_pa_tit01_ani");
					$(".bk_pa_tit02").removeClass("bk_pa_tit02_ani");
					$(".ques_img").removeClass("ques_img_ani");
					$(".tips01").removeClass("tips01_ani");
					$(".tips02").removeClass("tips02_ani");
					$(".tips03").removeClass("tips03_ani");
					$(".btn_video").removeClass("btn_video_ani");
                    break;
					
                case 2:
					$(".bk_p3_tit01").removeClass("bk_p3_tit01_ani");
					$(".bk_p3_tit02").removeClass("bk_p3_tit02_ani");
					$(".bk_p3_body").removeClass("bk_p3_body_ani");
                    break;
					
                case 3:
					$(".sc_tit01").removeClass("sc_tit01_ani");
					$(".jiantou").removeClass('display');
                    break;
					
            }

        }
    }
});


var swiperV = new Swiper('.swiper-container-v', {
      effect: 'coverflow',
      grabCursor: true,
      centeredSlides: true,
	  loop: true,
      slidesPerView: 'auto',
      coverflowEffect: {
        rotate: 50,
        stretch: 0,
        depth: 100,
        modifier: 1,
        slideShadows : true,
      },
      pagination: {
        el: '.swiper-pagination',
      },
});


function swiper_index(swiper, index) {
    return parseInt(swiper.slides.eq(index).attr('data-swiper-slide-index') || index);
}
function swiper_active(swiper) {
    return swiper_index(swiper, swiper.activeIndex);
}
function swiper_previous(swiper) {
    return swiper_index(swiper, swiper.previousIndex);
}

var swiperS = new Swiper('.swiper-container-s', {
    pagination: '.swiper-pagination-s',
    nextButton: '.swiper-button-next-s',
    prevButton: '.swiper-button-prev-s',
    slidesPerView: 1,
    paginationClickable: true,
    spaceBetween: 30,
    //autoplay: 3000,
    loop: true,

    onSlideChangeStart: function(swiper) {
        var activeIndex = swiper_active(swiper);
        var previousIndex = swiper_previous(swiper);
        if (activeIndex != previousIndex) {
            switch (activeIndex) {
                case 0:
                    $(".sc_box01").addClass("sc_box01_ani");
                    $(".sc_box02").addClass("sc_box02_ani");
                    $(".sc_box03").addClass("sc_box03_ani");
                    break;

                case 1:
                    $(".sc_box04").addClass("sc_box04_ani");
                    $(".sc_box05").addClass("sc_box05_ani");
                    $(".sc_box06").addClass("sc_box06_ani");
                    break;

                case 2:
                    $(".sc_box07").addClass("sc_box07_ani");
                    $(".sc_box08").addClass("sc_box08_ani");
                    $(".sc_box09").addClass("sc_box09_ani");
                    break;

            }

            switch (previousIndex) {
                case 0:
                    $(".sc_box01").removeClass("sc_box01_ani");
                    $(".sc_box02").removeClass("sc_box02_ani");
                    $(".sc_box03").removeClass("sc_box03_ani");
                    break;

                case 1:
                    $(".sc_box04").removeClass("sc_box04_ani");
                    $(".sc_box05").removeClass("sc_box05_ani");
                    $(".sc_box06").removeClass("sc_box06_ani");
                    break;

                case 2:
                    $(".sc_box07").removeClass("sc_box07_ani");
                    $(".sc_box08").removeClass("sc_box08_ani");
                    $(".sc_box09").removeClass("sc_box09_ani");
                    break;

            }
        }
    }
});

</script>
<script  type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script>
var curUrl = location.href.split('#')[0];
$.ajax({
	dataType: 'jsonp',
	url: 'http://m.rayli.com.cn/mini/zhuanti2016/index.php?m=Index&a=wx_config&url='+encodeURIComponent(curUrl),
	success: function(wxConfig){ 	 
		wx.config({ 
//        		debug: true,
			appId: wxConfig.appId,
			timestamp: wxConfig.timestamp,
			nonceStr: wxConfig.nonceStr,
			signature: wxConfig.signature,
			jsApiList: [
				'onMenuShareTimeline',
				'onMenuShareAppMessage',
				'onMenuShareQQ',
				'onMenuShareWeibo'
			]
		}); 
	},
});   	
// 分享链接_编辑修改以下下两个url和标题描述
var index_url = 'http://m.rayli.com.cn/mini/2018shanghai/index.html';		
var img_url = 'http://m.rayli.com.cn/mini/2018shanghai/images/share.jpg';
// 分享信息
var shareInfo = {
	title: '真没想到上海时装周上发生了这么多大事！', 	// 分享标题
	desc : '在这场时尚界的春晚上，你既可以穿成刘嘉玲跳hippop 也可以跟着笔笔发现新的自己，更有更多想不到的意外收获哦~',
	link: index_url, // 分享链接
	imgUrl: img_url, // 分享图标
	success: function () { 
		// 用户确认分享后执行的回调函数
		alert('分享成功！');	
	}, 
};
wx.ready(function () {
	wx.onMenuShareTimeline(shareInfo);		
	wx.onMenuShareAppMessage(shareInfo);
	wx.onMenuShareQQ(shareInfo);
	wx.onMenuShareWeibo(shareInfo);
});
wx.error(function (res) {
	alert(res.errMsg);  //打印错误消息。及把 debug:false,设置为debug:ture就可以直接在网页上看到弹出的错误提示
});
</script>
</body>

</html>
